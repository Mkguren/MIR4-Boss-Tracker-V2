<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIR4 Boss Tracker - Invocação</title>
    <style>
        *::-webkit-scrollbar { width: 6px; height: 6px; }
        *::-webkit-scrollbar-thumb { background: #ff9800; border-radius: 10px; }
        *::-webkit-scrollbar-track { background: #1a1a1a; }
        * { scrollbar-width: thin; scrollbar-color: #ff9800 #1a1a1a; box-sizing: border-box; }

        body {
            background: #000;
            color: #ddd;
            font-family: Arial, sans-serif;
            margin: 0;
            padding-bottom: 60px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .main-header { background: #111; padding: 20px; text-align: center; border-bottom: 2px solid #ff9800; }

        .controls-area {
            background: #111; padding: 15px; display: flex; flex-direction: column; align-items: center; gap: 8px;
            position: sticky; top: 0; z-index: 100; border-bottom: 1px solid #222;
        }

        .nav-menu { display: flex; gap: 8px; margin-bottom: 5px; }
        .nav-btn {
            width: 130px; text-align: center; font-size: 11px; font-weight: bold;
            padding: 8px; border-radius: 4px; cursor: pointer; border: none; text-decoration: none;
            transition: 0.3s;
        }
        .btn-active { background: #ff9800; color: #000; }
        .btn-inactive { background: #222; color: #888; }

        .filter-container { 
            display: grid;
            grid-template-areas: 
                "tudo m1 m2 m3 m4 m5"
                "reset m6 m7 m8 m9 m10";
            gap: 4px; 
            justify-content: center;
            width: 100%;
            max-width: 400px;
        }

        .f-btn, .reset-btn { 
            padding: 4px 6px; 
            background: #000; 
            border: 1px solid #333; 
            color: #fff; 
            border-radius: 3px; 
            font-size: 10px; 
            cursor: pointer; 
            font-weight: bold;
            transition: 0.2s; 
            text-transform: uppercase;
        }
        
        .btn-all { grid-area: tudo; }
        .btn-reset { grid-area: reset; border-color: #4a1a1a; color: #ff4444; }
        .f-btn.active { border-color: #ff9800; color: #ff9800; }

        .scroll { flex: 1; width: 100%; max-width: 700px; margin: 0 auto; padding: 20px; }

        .boss-card { 
            padding: 12px; background: #111; border: 1px solid #222;
            border-left: 5px solid #444; margin-bottom: 12px; border-radius: 4px;
            cursor: pointer; transition: 0.2s;
            position: relative;
        }

        /* Estilo Concluído */
        .boss-card.done { 
            opacity: 0.5; 
            border-left-color: #222 !important;
        }
        
        .boss-header { display: flex; align-items: center; gap: 15px; }
        
        /* Container da imagem para o Check */
        .img-container { position: relative; width: 55px; height: 55px; }
        
        .boss-img { 
            width: 100%; height: 100%; border: 2px solid #333; border-radius: 4px; 
            background: #000; cursor: pointer; /* Cursor padrão de clique */
        }

        /* O Checkmark (ícone de feito) */
        .check-icon {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 128, 0, 0.9);
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            text-align: center;
            line-height: 24px;
            font-size: 14px;
            font-weight: bold;
            pointer-events: none; /* Não atrapalha o clique na imagem */
            box-shadow: 0 0 10px #000;
        }

        .done .check-icon { display: block; }
        .done .boss-img { filter: grayscale(1); border-color: #008000; }
        
        .boss-name { color: #fff; font-weight: bold; font-size: 14px; display: block; }
        .npc-info { color: #ff9800; font-size: 11px; font-weight: bold; display: block; margin-top: 2px; }
        .local-info { color: #777; font-size: 11px; display: block; margin-top: 4px; }
        
        .items-container { 
            display: none; padding: 15px; background: #080808; border-radius: 4px; 
            margin-top: 10px; border-top: 1px solid #222; gap: 10px; flex-wrap: wrap;
        }
        .expanded .items-container { display: flex; }
        .item-img { width: 40px; height: 40px; border: 1px solid #333; border-radius: 3px; }

        /* Cores Mundos */
        .cmc { border-left-color: #607d8b; } .c3m8 { border-left-color: #ff5252; }
        .c3m7 { border-left-color: #f28d8d; } .c3m4 { border-left-color: #ffe082; }
        .c3m2 { border-left-color: #ffcc80; } .c3m5 { border-left-color: #ce93d8; }
        .c3m3 { border-left-color: #90ee90; } .c3m6 { border-left-color: #add8e6; }
        .c1m1 { border-left-color: #4caf50; }

        .footer { 
            position: fixed; bottom: 0; left: 0; width: 100%; height: 35px;
            display: flex; align-items: center; justify-content: center;
            background: #111; border-top: 1px solid #222; font-size: 10px; color: #555;
        }
    </style>
</head>
<body>

<header class="main-header"><h1 style="margin:0; font-size: 20px; letter-spacing: 2px; color: #ff9800;">MIR4 BOSS TRACKER</h1></header>

<div class="controls-area">
    <div class="nav-menu">
        <a href="index.html" class="nav-btn btn-inactive">BOSSES DE CAMPO</a>
        <a href="Summonboss.html" class="nav-btn btn-active">INVOCAÇÃO</a>
    </div>
    <div class="filter-container">
        <button class="f-btn active btn-all" onclick="filter('all', this)">TUDO (33)</button>
        <button class="reset-btn btn-reset" onclick="resetDone()">RESET</button>
        <button class="f-btn" style="grid-area: m1" onclick="filter('cmc', this)">MC</button>
        <button class="f-btn" style="grid-area: m2" onclick="filter('c3m2', this)">C3-M2</button>
        <button class="f-btn" style="grid-area: m3" onclick="filter('c3m3', this)">C3-M3</button>
        <button class="f-btn" style="grid-area: m4" onclick="filter('c3m4', this)">C3-M4</button>
        <button class="f-btn" style="grid-area: m5" onclick="filter('c3m5', this)">C3-M5</button>
        <button class="f-btn" style="grid-area: m6" onclick="filter('c3m6', this)">C3-M6</button>
        <button class="f-btn" style="grid-area: m7" onclick="filter('c3m7', this)">C3-M7</button>
        <button class="f-btn" style="grid-area: m8" onclick="filter('c3m8', this)">C3-M8</button>
        <button class="f-btn" style="grid-area: m9" onclick="filter('c1m1', this)">155+</button>
    </div>
</div>

<div class="scroll" id="lb">
    <div class="boss-card cmc" id="b1" data-mundo="cmc" onclick="toggleBoss(event, this)">
        <div class="boss-header">
            <div class="img-container">
                <img src="img/bosses/mc_larva_centopeia.webp" class="boss-img" onclick="markDone(event, 'b1')">
                <div class="check-icon">✓</div>
            </div>
            <div>
                <span class="boss-name">1. Larva da água do dragão celeste</span>
                <span class="npc-info">NPC: Buman - Convés</span>
                <span class="local-info">Deserto Phantasia</span>
            </div>
        </div>
        <div class="items-container">
            <img src="img/craft/item_energia_demonio_vazio.webp" class="item-img">
            <img src="img/craft/item_pipa.webp" class="item-img">
        </div>
    </div>

    <div class="boss-card c1m1" id="b32" data-mundo="c1m1" onclick="toggleBoss(event, this)">
        <div class="boss-header">
            <div class="img-container">
                <img src="img/bosses/c2_kangmuhyeon.webp" class="boss-img" onclick="markDone(event, 'b32')">
                <div class="check-icon">✓</div>
            </div>
            <div><span class="boss-name">32. Kang Muhyeon</span><span class="npc-info">NPC: Su Seunghyeon</span><span class="local-info">Campo de dragao noveno</span></div>
        </div>
        <div class="items-container">
            <img src="img/craft/item_Provisao_rebelde.webp" class="item-img">
            <img src="img/craft/item_pedace_gelo.webp" class="item-img">
        </div>
    </div>
</div>

<footer class="footer">MKguren - MIR4 Tracker</footer>

<script>
    window.onload = function() {
        const doneList = JSON.parse(localStorage.getItem('summonBossesDone')) || [];
        doneList.forEach(id => {
            const card = document.getElementById(id);
            if(card) card.classList.add('done');
        });
    }

    function toggleBoss(e, c) {
        if (e.target.classList.contains('boss-img')) return;
        const isE = c.classList.contains('expanded');
        document.querySelectorAll('.boss-card').forEach(x => x.classList.remove('expanded'));
        if (!isE) c.classList.add('expanded');
    }

    function markDone(e, id) {
        e.stopPropagation();
        const card = document.getElementById(id);
        card.classList.toggle('done');
        saveState();
    }

    function saveState() {
        const doneCards = document.querySelectorAll('.boss-card.done');
        const doneIds = Array.from(doneCards).map(c => c.id);
        localStorage.setItem('summonBossesDone', JSON.stringify(doneIds));
    }

    function resetDone() {
        if(confirm("Deseja resetar os bosses feitos?")) {
            document.querySelectorAll('.boss-card').forEach(c => c.classList.remove('done'));
            localStorage.removeItem('summonBossesDone');
        }
    }

    function filter(m, btn) {
        document.querySelectorAll('.f-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        document.querySelectorAll('.boss-card').forEach(card => {
            card.style.display = (m === 'all' || card.getAttribute('data-mundo') === m) ? 'block' : 'none';
            card.classList.remove('expanded');
        });
    }
</script>
</body>
</html>
